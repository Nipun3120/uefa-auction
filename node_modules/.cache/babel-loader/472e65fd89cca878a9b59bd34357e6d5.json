{"ast":null,"code":"var _jsxFileName = \"/home/rahul/Projects/auction/uefa-auction/src/container/SilentBidding/SilentBiddingHelper.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\"; // import { Bids } from \"../../store/actions/playerActions\";\n\nimport { connect } from \"react-redux\";\nimport firebase from \"firebase\";\nimport { db } from \"../../config/Firebase\";\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport { TableCell, Button, Container, Grid, Typography, TableRow, TextField } from \"@material-ui/core\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledTableCell = withStyles(theme => ({}))(TableCell);\nconst StyledTableRow = withStyles(theme => ({}))(TableRow);\n\nconst SilentBiddingHelper = ({\n  player,\n  playerId,\n  teamId,\n  auth\n}) => {\n  _s();\n\n  const [biddingValue, setbiddingValue] = useState(\"\");\n  const [maxBid, setmaxBid] = useState(0);\n  const [maxBidBy, setmaxBidBy] = useState(\"\"); //console.log(player);\n\n  const sendBid = e => {\n    e.preventDefault();\n    db.collection(\"players\").doc(player.name).collection(\"Bids\").doc(teamId).set({\n      bid: [{\n        biddingprice: biddingValue,\n        timestamp: firebase.firestore.Timestamp.now()\n      }]\n    });\n    console.log(\"Maxbid:\", player.maxbid);\n    console.log(\"Price:\", biddingValue);\n\n    if (parseInt(player.maxbid) < parseInt(biddingValue)) {\n      db.collection(\"players\").doc(player.name).update({\n        maxbid: biddingValue,\n        maxbidBy: teamId\n      });\n    }\n\n    setbiddingValue(\"\"); // window.location.reload(true);\n  };\n\n  useEffect(() => {\n    db.collection(\"players\").doc(player.name).onSnapshot(snapshot => {\n      setmaxBid(snapshot.data().maxbid);\n      setmaxBidBy(snapshot.data().maxbidBy);\n    });\n  }, [player.maxbidBy]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(StyledTableRow, {\n      children: [/*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.clubs\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.nationalTeam\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.position\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.rating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.wage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: player.baseprice\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: maxBid\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(StyledTableCell, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: sendBid,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(TextField, {\n              value: biddingValue,\n              onChange: event => {\n                event.preventDefault();\n                setbiddingValue(event.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              style: {\n                marginLeft: \"20px\"\n              },\n              variant: \"contained\",\n              color: \"secondary\",\n              size: \"small\",\n              disabled: parseInt(biddingValue) <= parseInt(maxBid) || maxBidBy === auth.uid,\n              type: \"submit\"\n              /* onClick={(event) => {\n              event.preventDefault();\n              Bids(playerId, nextBid);\n              }} */\n              ,\n              children: \"Bid\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(SilentBiddingHelper, \"qZniPP+OEPb5EjwliVJkg016Xxw=\");\n\n_c = SilentBiddingHelper;\n\nconst mapStateToProps = state => {\n  return {\n    authError: state.auth.authError,\n    auth: state.firebase.auth,\n    playerB: state.playerB\n  };\n};\n/* const mapDispatchToProps = (dispatch) => {\n  return {\n    Bids: (playerId, biddingprice) => dispatch(Bids(playerId, biddingprice)),\n  };\n}; */\n\n\nexport default connect(mapStateToProps)(SilentBiddingHelper); /// Assign Players\n\n/* useEffect(() => {\n    db.collection(\"players\")\n      .where(\"category\", \"==\", \"silent\")\n      .where(\"status\", \"==\", \"close\")\n      .onSnapshot((snapshot) => {\n        if (snapshot.exists) {\n          snapshot.docs.map((doc) => {\n            console.log(doc.data().name);\n            console.log(doc.data().maxbidBy);\n            db.collection(\"players\").doc(doc.data().name).update({\n              team: doc.data().maxbidBy,\n            });\n            const ref3 = db.collection(\"users\").doc(doc.data().maxbidBy);\n\n            ref3.onSnapshot((snapshot) => {\n              if (snapshot.exists) {\n                console.log(snapshot.data().teamBalance);\n                ref3.update({\n                  teamBalance:\n                    parseInt(snapshot.data().teamBalance) -\n                    parseInt(doc.data().maxbid),\n                });\n              }\n            });\n          });\n        }\n      });\n  }, [player.status]); */\n\n/* if (player.status === \"close\") {\n      db.collection(\"players\").doc(player.name).update({\n        team: player.maxbidBy,\n      });\n      const ref3 = db.collection(\"users\").doc(player.maxbidBy);\n\n      ref3.onSnapshot((snapshot) => {\n        if (snapshot.exists) {\n          ref3.update({\n            teamBalance:\n              parseInt(snapshot.data().teamBalance) - parseInt(player.maxbid),\n          });\n        }\n      });\n    } */\n\nvar _c;\n\n$RefreshReg$(_c, \"SilentBiddingHelper\");","map":{"version":3,"sources":["/home/rahul/Projects/auction/uefa-auction/src/container/SilentBidding/SilentBiddingHelper.js"],"names":["React","useEffect","useState","connect","firebase","db","withStyles","makeStyles","TableCell","Button","Container","Grid","Typography","TableRow","TextField","StyledTableCell","theme","StyledTableRow","SilentBiddingHelper","player","playerId","teamId","auth","biddingValue","setbiddingValue","maxBid","setmaxBid","maxBidBy","setmaxBidBy","sendBid","e","preventDefault","collection","doc","name","set","bid","biddingprice","timestamp","firestore","Timestamp","now","console","log","maxbid","parseInt","update","maxbidBy","onSnapshot","snapshot","data","clubs","nationalTeam","position","rating","wage","baseprice","display","event","target","value","marginLeft","uid","mapStateToProps","state","authError","playerB"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,QAAP,MAAqB,UAArB;AACA,SAASC,EAAT,QAAmB,uBAAnB;AAEA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,SACEC,SADF,EAEEC,MAFF,EAGEC,SAHF,EAIEC,IAJF,EAKEC,UALF,EAMEC,QANF,EAOEC,SAPF,QAQO,mBARP;;;AAUA,MAAMC,eAAe,GAAGT,UAAU,CAAEU,KAAD,KAAY,EAAZ,CAAD,CAAV,CAA4BR,SAA5B,CAAxB;AAEA,MAAMS,cAAc,GAAGX,UAAU,CAAEU,KAAD,KAAY,EAAZ,CAAD,CAAV,CAA4BH,QAA5B,CAAvB;;AAEA,MAAMK,mBAAmB,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,QAAV;AAAoBC,EAAAA,MAApB;AAA4BC,EAAAA;AAA5B,CAAD,KAAwC;AAAA;;AAClE,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCtB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACuB,MAAD,EAASC,SAAT,IAAsBxB,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACyB,QAAD,EAAWC,WAAX,IAA0B1B,QAAQ,CAAC,EAAD,CAAxC,CAHkE,CAIlE;;AACA,QAAM2B,OAAO,GAAIC,CAAD,IAAO;AACrBA,IAAAA,CAAC,CAACC,cAAF;AACA1B,IAAAA,EAAE,CAAC2B,UAAH,CAAc,SAAd,EACGC,GADH,CACOd,MAAM,CAACe,IADd,EAEGF,UAFH,CAEc,MAFd,EAGGC,GAHH,CAGOZ,MAHP,EAIGc,GAJH,CAIO;AACHC,MAAAA,GAAG,EAAE,CACH;AACEC,QAAAA,YAAY,EAAEd,YADhB;AAEEe,QAAAA,SAAS,EAAElC,QAAQ,CAACmC,SAAT,CAAmBC,SAAnB,CAA6BC,GAA7B;AAFb,OADG;AADF,KAJP;AAYAC,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBxB,MAAM,CAACyB,MAA9B;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBpB,YAAtB;;AACA,QAAIsB,QAAQ,CAAC1B,MAAM,CAACyB,MAAR,CAAR,GAA0BC,QAAQ,CAACtB,YAAD,CAAtC,EAAsD;AACpDlB,MAAAA,EAAE,CAAC2B,UAAH,CAAc,SAAd,EAAyBC,GAAzB,CAA6Bd,MAAM,CAACe,IAApC,EAA0CY,MAA1C,CAAiD;AAC/CF,QAAAA,MAAM,EAAErB,YADuC;AAE/CwB,QAAAA,QAAQ,EAAE1B;AAFqC,OAAjD;AAID;;AACDG,IAAAA,eAAe,CAAC,EAAD,CAAf,CAtBqB,CAuBrB;AACD,GAxBD;;AAyBAvB,EAAAA,SAAS,CAAC,MAAM;AACdI,IAAAA,EAAE,CAAC2B,UAAH,CAAc,SAAd,EACGC,GADH,CACOd,MAAM,CAACe,IADd,EAEGc,UAFH,CAEeC,QAAD,IAAc;AACxBvB,MAAAA,SAAS,CAACuB,QAAQ,CAACC,IAAT,GAAgBN,MAAjB,CAAT;AACAhB,MAAAA,WAAW,CAACqB,QAAQ,CAACC,IAAT,GAAgBH,QAAjB,CAAX;AACD,KALH;AAMD,GAPQ,EAON,CAAC5B,MAAM,CAAC4B,QAAR,CAPM,CAAT;AASA,sBACE;AAAA,2BACE,QAAC,cAAD;AAAA,8BACE,QAAC,eAAD;AAAA,kBAAkB5B,MAAM,CAACe;AAAzB;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,eAAD;AAAA,kBAAkBf,MAAM,CAACgC;AAAzB;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE,QAAC,eAAD;AAAA,kBAAkBhC,MAAM,CAACiC;AAAzB;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE,QAAC,eAAD;AAAA,kBAAkBjC,MAAM,CAACkC;AAAzB;AAAA;AAAA;AAAA;AAAA,cAJF,eAKE,QAAC,eAAD;AAAA,kBAAkBlC,MAAM,CAACmC;AAAzB;AAAA;AAAA;AAAA;AAAA,cALF,eAME,QAAC,eAAD;AAAA,kBAAkBnC,MAAM,CAACoC;AAAzB;AAAA;AAAA;AAAA;AAAA,cANF,eAOE,QAAC,eAAD;AAAA,kBAAkBpC,MAAM,CAACqC;AAAzB;AAAA;AAAA;AAAA;AAAA,cAPF,eASE,QAAC,eAAD;AAAA,kBAAkB/B;AAAlB;AAAA;AAAA;AAAA;AAAA,cATF,eAUE,QAAC,eAAD;AAAA,+BACE;AAAM,UAAA,QAAQ,EAAEI,OAAhB;AAAA,iCACE;AAAK,YAAA,KAAK,EAAE;AAAE4B,cAAAA,OAAO,EAAE;AAAX,aAAZ;AAAA,oCACE,QAAC,SAAD;AACE,cAAA,KAAK,EAAElC,YADT;AAEE,cAAA,QAAQ,EAAGmC,KAAD,IAAW;AACnBA,gBAAAA,KAAK,CAAC3B,cAAN;AACAP,gBAAAA,eAAe,CAACkC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAf;AACD;AALH;AAAA;AAAA;AAAA;AAAA,oBADF,eAQE,QAAC,MAAD;AACE,cAAA,KAAK,EAAE;AAAEC,gBAAAA,UAAU,EAAE;AAAd,eADT;AAEE,cAAA,OAAO,EAAC,WAFV;AAGE,cAAA,KAAK,EAAC,WAHR;AAIE,cAAA,IAAI,EAAC,OAJP;AAKE,cAAA,QAAQ,EACNhB,QAAQ,CAACtB,YAAD,CAAR,IAA0BsB,QAAQ,CAACpB,MAAD,CAAlC,IACAE,QAAQ,KAAKL,IAAI,CAACwC,GAPtB;AASE,cAAA,IAAI,EAAC;AACL;AAChB;AACA;AACA;AAbc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBARF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAVF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF,mBADF;AA6CD,CApFD;;GAAM5C,mB;;KAAAA,mB;;AAqFN,MAAM6C,eAAe,GAAIC,KAAD,IAAW;AACjC,SAAO;AACLC,IAAAA,SAAS,EAAED,KAAK,CAAC1C,IAAN,CAAW2C,SADjB;AAEL3C,IAAAA,IAAI,EAAE0C,KAAK,CAAC5D,QAAN,CAAekB,IAFhB;AAGL4C,IAAAA,OAAO,EAAEF,KAAK,CAACE;AAHV,GAAP;AAKD,CAND;AAQA;AACA;AACA;AACA;AACA;;;AACA,eAAe/D,OAAO,CAAC4D,eAAD,CAAP,CAAyB7C,mBAAzB,CAAf,C,CAEA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { useEffect, useState } from \"react\";\n// import { Bids } from \"../../store/actions/playerActions\";\nimport { connect } from \"react-redux\";\nimport firebase from \"firebase\";\nimport { db } from \"../../config/Firebase\";\n\nimport { withStyles, makeStyles } from \"@material-ui/core/styles\";\nimport {\n  TableCell,\n  Button,\n  Container,\n  Grid,\n  Typography,\n  TableRow,\n  TextField,\n} from \"@material-ui/core\";\n\nconst StyledTableCell = withStyles((theme) => ({}))(TableCell);\n\nconst StyledTableRow = withStyles((theme) => ({}))(TableRow);\n\nconst SilentBiddingHelper = ({ player, playerId, teamId, auth }) => {\n  const [biddingValue, setbiddingValue] = useState(\"\");\n  const [maxBid, setmaxBid] = useState(0);\n  const [maxBidBy, setmaxBidBy] = useState(\"\");\n  //console.log(player);\n  const sendBid = (e) => {\n    e.preventDefault();\n    db.collection(\"players\")\n      .doc(player.name)\n      .collection(\"Bids\")\n      .doc(teamId)\n      .set({\n        bid: [\n          {\n            biddingprice: biddingValue,\n            timestamp: firebase.firestore.Timestamp.now(),\n          },\n        ],\n      });\n    console.log(\"Maxbid:\", player.maxbid);\n    console.log(\"Price:\", biddingValue);\n    if (parseInt(player.maxbid) < parseInt(biddingValue)) {\n      db.collection(\"players\").doc(player.name).update({\n        maxbid: biddingValue,\n        maxbidBy: teamId,\n      });\n    }\n    setbiddingValue(\"\");\n    // window.location.reload(true);\n  };\n  useEffect(() => {\n    db.collection(\"players\")\n      .doc(player.name)\n      .onSnapshot((snapshot) => {\n        setmaxBid(snapshot.data().maxbid);\n        setmaxBidBy(snapshot.data().maxbidBy);\n      });\n  }, [player.maxbidBy]);\n\n  return (\n    <>\n      <StyledTableRow>\n        <StyledTableCell>{player.name}</StyledTableCell>\n        <StyledTableCell>{player.clubs}</StyledTableCell>\n        <StyledTableCell>{player.nationalTeam}</StyledTableCell>\n        <StyledTableCell>{player.position}</StyledTableCell>\n        <StyledTableCell>{player.rating}</StyledTableCell>\n        <StyledTableCell>{player.wage}</StyledTableCell>\n        <StyledTableCell>{player.baseprice}</StyledTableCell>\n\n        <StyledTableCell>{maxBid}</StyledTableCell>\n        <StyledTableCell>\n          <form onSubmit={sendBid}>\n            <div style={{ display: \"flex\" }}>\n              <TextField\n                value={biddingValue}\n                onChange={(event) => {\n                  event.preventDefault();\n                  setbiddingValue(event.target.value);\n                }}\n              />\n              <Button\n                style={{ marginLeft: \"20px\" }}\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"small\"\n                disabled={\n                  parseInt(biddingValue) <= parseInt(maxBid) ||\n                  maxBidBy === auth.uid\n                }\n                type=\"submit\"\n                /* onClick={(event) => {\n              event.preventDefault();\n              Bids(playerId, nextBid);\n            }} */\n              >\n                Bid\n              </Button>\n            </div>\n          </form>\n        </StyledTableCell>\n      </StyledTableRow>\n    </>\n  );\n};\nconst mapStateToProps = (state) => {\n  return {\n    authError: state.auth.authError,\n    auth: state.firebase.auth,\n    playerB: state.playerB,\n  };\n};\n\n/* const mapDispatchToProps = (dispatch) => {\n  return {\n    Bids: (playerId, biddingprice) => dispatch(Bids(playerId, biddingprice)),\n  };\n}; */\nexport default connect(mapStateToProps)(SilentBiddingHelper);\n\n/// Assign Players\n/* useEffect(() => {\n    db.collection(\"players\")\n      .where(\"category\", \"==\", \"silent\")\n      .where(\"status\", \"==\", \"close\")\n      .onSnapshot((snapshot) => {\n        if (snapshot.exists) {\n          snapshot.docs.map((doc) => {\n            console.log(doc.data().name);\n            console.log(doc.data().maxbidBy);\n            db.collection(\"players\").doc(doc.data().name).update({\n              team: doc.data().maxbidBy,\n            });\n            const ref3 = db.collection(\"users\").doc(doc.data().maxbidBy);\n\n            ref3.onSnapshot((snapshot) => {\n              if (snapshot.exists) {\n                console.log(snapshot.data().teamBalance);\n                ref3.update({\n                  teamBalance:\n                    parseInt(snapshot.data().teamBalance) -\n                    parseInt(doc.data().maxbid),\n                });\n              }\n            });\n          });\n        }\n      });\n  }, [player.status]); */\n/* if (player.status === \"close\") {\n      db.collection(\"players\").doc(player.name).update({\n        team: player.maxbidBy,\n      });\n      const ref3 = db.collection(\"users\").doc(player.maxbidBy);\n\n      ref3.onSnapshot((snapshot) => {\n        if (snapshot.exists) {\n          ref3.update({\n            teamBalance:\n              parseInt(snapshot.data().teamBalance) - parseInt(player.maxbid),\n          });\n        }\n      });\n    } */\n"]},"metadata":{},"sourceType":"module"}