{"ast":null,"code":"import firebase from \"firebase\";\nexport const setSilentPlayers = ({}) => {};\nexport const Bids = ({\n  playerId,\n  biddingprice\n}) => {\n  return (dispatch, getState, {\n    getFirestore\n  }) => {\n    const firestore = getFirestore();\n    const teamId = getState().firebase.auth.uid;\n    firestore.collection(\"players\").doc(playerId).collection(\"Bids\").doc(teamId).add({\n      bid: [{\n        biddingprice: biddingprice,\n        timestamp: firebase.firestore.FieldValue.serverTimestamp()\n      }]\n    }).then(() => {\n      dispatch({\n        type: \"ADD_BID\"\n      });\n    }).catch(err => {\n      dispatch({\n        type: \"ADD_BID_ERROR\"\n      }, err);\n    });\n    const maxi = 0;\n    firestore.collection(\"players\").where(\"name\", \"==\", playerId).get().then(snapshot => {\n      snapshot.forEach(doc => {\n        console.log(\"Max:\", doc.data().maxbid);\n        maxi = doc.data().maxbid;\n      });\n    });\n\n    if (maxi < biddingprice) {\n      firestore.collection(\"players\").doc(playerId).update({\n        maxbid: biddingprice,\n        maxbidBy: teamId\n      });\n    }\n  };\n};\n_c = Bids;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bids\");","map":{"version":3,"sources":["/home/rahul/Projects/auction/ipl-auction/src/store/actions/playerActions.js"],"names":["firebase","setSilentPlayers","Bids","playerId","biddingprice","dispatch","getState","getFirestore","firestore","teamId","auth","uid","collection","doc","add","bid","timestamp","FieldValue","serverTimestamp","then","type","catch","err","maxi","where","get","snapshot","forEach","console","log","data","maxbid","update","maxbidBy"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAEA,OAAO,MAAMC,gBAAgB,GAAG,CAAC,EAAD,KAAQ,CAAE,CAAnC;AACP,OAAO,MAAMC,IAAI,GAAG,CAAC;AAAEC,EAAAA,QAAF;AAAYC,EAAAA;AAAZ,CAAD,KAAgC;AAClD,SAAO,CAACC,QAAD,EAAWC,QAAX,EAAqB;AAAEC,IAAAA;AAAF,GAArB,KAA0C;AAC/C,UAAMC,SAAS,GAAGD,YAAY,EAA9B;AACA,UAAME,MAAM,GAAGH,QAAQ,GAAGN,QAAX,CAAoBU,IAApB,CAAyBC,GAAxC;AACAH,IAAAA,SAAS,CACNI,UADH,CACc,SADd,EAEGC,GAFH,CAEOV,QAFP,EAGGS,UAHH,CAGc,MAHd,EAIGC,GAJH,CAIOJ,MAJP,EAKGK,GALH,CAKO;AACHC,MAAAA,GAAG,EAAE,CACH;AACEX,QAAAA,YAAY,EAAEA,YADhB;AAEEY,QAAAA,SAAS,EAAEhB,QAAQ,CAACQ,SAAT,CAAmBS,UAAnB,CAA8BC,eAA9B;AAFb,OADG;AADF,KALP,EAaGC,IAbH,CAaQ,MAAM;AACVd,MAAAA,QAAQ,CAAC;AACPe,QAAAA,IAAI,EAAE;AADC,OAAD,CAAR;AAGD,KAjBH,EAkBGC,KAlBH,CAkBUC,GAAD,IAAS;AACdjB,MAAAA,QAAQ,CACN;AACEe,QAAAA,IAAI,EAAE;AADR,OADM,EAINE,GAJM,CAAR;AAMD,KAzBH;AA2BA,UAAMC,IAAI,GAAG,CAAb;AACAf,IAAAA,SAAS,CACNI,UADH,CACc,SADd,EAEGY,KAFH,CAES,MAFT,EAEiB,IAFjB,EAEuBrB,QAFvB,EAGGsB,GAHH,GAIGN,IAJH,CAISO,QAAD,IAAc;AAClBA,MAAAA,QAAQ,CAACC,OAAT,CAAkBd,GAAD,IAAS;AACxBe,QAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBhB,GAAG,CAACiB,IAAJ,GAAWC,MAA/B;AACAR,QAAAA,IAAI,GAAGV,GAAG,CAACiB,IAAJ,GAAWC,MAAlB;AACD,OAHD;AAID,KATH;;AAUA,QAAIR,IAAI,GAAGnB,YAAX,EAAyB;AACvBI,MAAAA,SAAS,CAACI,UAAV,CAAqB,SAArB,EAAgCC,GAAhC,CAAoCV,QAApC,EAA8C6B,MAA9C,CAAqD;AACnDD,QAAAA,MAAM,EAAE3B,YAD2C;AAEnD6B,QAAAA,QAAQ,EAAExB;AAFyC,OAArD;AAID;AACF,GA/CD;AAgDD,CAjDM;KAAMP,I","sourcesContent":["import firebase from \"firebase\";\n\nexport const setSilentPlayers = ({}) => {};\nexport const Bids = ({ playerId, biddingprice }) => {\n  return (dispatch, getState, { getFirestore }) => {\n    const firestore = getFirestore();\n    const teamId = getState().firebase.auth.uid;\n    firestore\n      .collection(\"players\")\n      .doc(playerId)\n      .collection(\"Bids\")\n      .doc(teamId)\n      .add({\n        bid: [\n          {\n            biddingprice: biddingprice,\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\n          },\n        ],\n      })\n      .then(() => {\n        dispatch({\n          type: \"ADD_BID\",\n        });\n      })\n      .catch((err) => {\n        dispatch(\n          {\n            type: \"ADD_BID_ERROR\",\n          },\n          err\n        );\n      });\n\n    const maxi = 0;\n    firestore\n      .collection(\"players\")\n      .where(\"name\", \"==\", playerId)\n      .get()\n      .then((snapshot) => {\n        snapshot.forEach((doc) => {\n          console.log(\"Max:\", doc.data().maxbid);\n          maxi = doc.data().maxbid;\n        });\n      });\n    if (maxi < biddingprice) {\n      firestore.collection(\"players\").doc(playerId).update({\n        maxbid: biddingprice,\n        maxbidBy: teamId,\n      });\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}